id: OMB-12
type: task
parent: OMB-7
title: Create App entry point with environment configuration
status: done
created: 2026-02-09
assignee: Claude
estimate_minutes: 30
estimate_tokens: null
actual_minutes: 10
actual_tokens: 2500
completed: 2026-02-10
blockers: []
description: "Set up the main App entry point and environment configuration.\n\n1. Install `react-native-config` for environment variables: `npm install react-native-config`\n\n2. Create `src/mobile/.env.example`:\n   ```\n   API_BASE_URL=https://api.orchestra.example.com\n   WS_URL=wss://ws.orchestra.example.com\n   ENVIRONMENT=development\n   ```\n\n3. Create `src/mobile/.env` (copy of .env.example with local values).\n\n4. Add `.env` to `src/mobile/.gitignore`.\n\n5. Create `src/mobile/src/utils/config.ts`:\n   ```typescript\n   import Config from 'react-native-config';\n\n   export const config = {\n     apiBaseUrl: Config.API_BASE_URL ?? 'http://localhost:8000',\n     wsUrl: Config.WS_URL ?? 'http://localhost:6001',\n     environment: Config.ENVIRONMENT ?? 'development',\n     isProduction: Config.ENVIRONMENT === 'production',\n   } as const;\n   ```\n\n6. Create `src/mobile/src/App.tsx` (replace default):\n   ```typescript\n   import React from 'react';\n   import { SafeAreaProvider } from 'react-native-safe-area-context';\n   import { GestureHandlerRootView } from 'react-native-gesture-handler';\n   import { StatusBar } from 'react-native';\n\n   // Placeholder - will be replaced by real navigation in OMB-8\n   import { View, Text } from 'react-native';\n\n   const App: React.FC = () => {\n     return (\n       <GestureHandlerRootView style={{ flex: 1 }}>\n         <SafeAreaProvider>\n           <StatusBar barStyle=\"dark-content\" />\n           <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n             <Text>Orchestra Mobile</Text>\n           </View>\n         </SafeAreaProvider>\n       </GestureHandlerRootView>\n     );\n   };\n\n   export default App;\n   ```\n\n7. Install peer dependencies: `npm install react-native-safe-area-context react-native-gesture-handler`\n\n8. For iOS: `cd ios && pod install`\n\n9. Verify app builds and runs on both platforms."
acceptance_criteria[6]: react-native-config installed and .env.example created,config.ts exports typed configuration object,App.tsx renders with SafeAreaProvider and GestureHandlerRootView wrappers,react-native-safe-area-context and react-native-gesture-handler installed,iOS pods installed successfully,App builds and runs on both iOS and Android

**Dependencies:**
This task requires the following tasks to be completed first: OMB-11

**⚠️ Design System Dependency:**
This task requires the Orchestra Design System foundation to be completed first (ODS-1, ODS-2). Use design tokens and core components from `packages/design-system/` instead of creating custom styles.
story: OMB-7
epic: OMB-1
project: oap-mobile
projectKey: OMB
path: .projects/oap-mobile/OMB-1/OMB-7/OMB-12.toon
